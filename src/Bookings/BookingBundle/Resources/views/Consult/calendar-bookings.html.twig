{% extends '::admin.html.twig' %}

{% block workspace %}

	<h2>{% trans %}Calendario{% endtrans %}</h2>
	<hr/>

    <div class="row clearfix">
        <div class="col-md-12 column text-center">
            <select onchange="changeCalendar(this)">
            {% for selection in selector %}
                <option value="{{ selection.id }}">{{ selection.name }}</option>
            {% endfor %}
            </select>
        </div>
    </div>

	<div class="row clearfix">
        <div class="col-md-12 column" >
            <h2 id="nameLodgingContainer">{{ selector.0.name }}</h2>
        </div>
		<div class="col-md-12 column text-center" id="calendarContainer">
            {{ calendar | raw }}
		</div>
	</div>

    <script>
        function changeCalendar(id){

            $.ajax({
                url: '{{ path('calculateCalendar') }}',
                data: {'activityID': id.value},
                type: "post",
                success: function($response) {
                    document.getElementById('nameLodgingContainer').innerHTML   = $response['nameLodging'];
                    document.getElementById('calendarContainer').innerHTML      = $response['calendar'];
                }
            });

        }
    </script>

{% endblock %}